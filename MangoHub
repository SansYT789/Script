-- =================================
-- üü£ MangoHub - Anti AFK Full Pack (Fixed)
-- =================================

--// Load WindUI (Footagesus version ƒë·ªÉ d√πng Section system)
local WindUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/Footagesus/WindUI/main/dist/main.lua"))()

--// Anti AFK Settings
getgenv().AntiAFK_Mode = "auto"
getgenv().AntiAFK_Enabled = false
getgenv().AntiAFK_Connection = nil

--// Main Window
local Window = WindUI:CreateWindow({
    Title = "MangoHub",
    Icon = "shield",
    Author = "Made By Group Vinreach",
    Folder = "Mango",
    Size = UDim2.fromOffset(450, 400),
    Theme = "Dark"
})

--// Create Sections
local MainSection = Window:Section({ Title = "Main Features", Opened = true })
local SettingsSection = Window:Section({ Title = "Settings", Opened = true })

--// Create Tabs
local MainTab = MainSection:Tab({ 
    Title = "Main", 
    Icon = "home", 
    Desc = "Main information and links" 
})

local AntiAFKTab = MainSection:Tab({ 
    Title = "Anti AFK", 
    Icon = "shield", 
    Desc = "Prevent getting kicked for AFK" 
})

local ConfigTab = SettingsSection:Tab({ 
    Title = "Configuration", 
    Icon = "settings",
    Desc = "UI and system settings"
})

--// Main Tab Content
MainTab:Paragraph({
    Title = "Version: 1.0 [ Demo ]",
    Desc = "MangoHub - Made By Group Vinreach",
    Image = "info",
    ImageSize = 18,
    Color = Color3.fromHex("#30ff6a")
})

MainTab:Divider()

MainTab:Button({
    Title = "Join Discord",
    Icon = "message-circle",
    Variant = "Primary",
    Callback = function()
        setclipboard("https://discord.gg/vinreach")
        WindUI:Notify({
            Title = "Discord Link Copied!",
            Content = "Paste the link in your browser to join our Discord server",
            Icon = "clipboard",
            Duration = 4
        })
    end
})

MainTab:Paragraph({
    Title = "Features",
    Desc = "‚Ä¢ Anti AFK System\n‚Ä¢ Multiple Detection Modes\n‚Ä¢ Auto Random Actions\n‚Ä¢ Easy Configuration",
    Image = "list",
    ImageSize = 16,
    Color = Color3.fromHex("#667eea")
})

--// Anti AFK Tab - ƒë·ªÉ tr·ªëng nh∆∞ y√™u c·∫ßu

--// Configuration Tab Content
ConfigTab:Paragraph({
    Title = "Version: 1.0 [ Demo ]",
    Desc = "MangoHub Anti AFK System",
    Image = "info",
    ImageSize = 18,
    Color = Color3.fromHex("#30ff6a")
})

ConfigTab:Divider()

ConfigTab:Paragraph({
    Title = "Anti AFK Mode",
    Desc = "Choose how the system will keep you active",
    Image = "settings",
    ImageSize = 16,
    Color = "White"
})

ConfigTab:Dropdown({
    Title = "Choose Mode",
    Values = {"auto", "click", "jump", "rotate"},
    Value = "auto",
    Callback = function(value)
        getgenv().AntiAFK_Mode = value
        WindUI:Notify({
            Title = "Mode Changed",
            Content = "Anti AFK Mode set to: " .. value,
            Icon = "settings",
            Duration = 2
        })
        print("üîß Anti AFK Mode set to: " .. value)
    end
})

ConfigTab:Button({
    Title = "Toggle Anti AFK",
    Icon = "power",
    Variant = "Primary",
    Callback = function()
        getgenv().AntiAFK_Enabled = not getgenv().AntiAFK_Enabled
        local status = getgenv().AntiAFK_Enabled
        
        WindUI:Notify({
            Title = "Anti AFK",
            Content = status and "Anti AFK Enabled!" or "Anti AFK Disabled!",
            Icon = status and "check" or "x",
            Duration = 3
        })
        print("‚úÖ Anti AFK: " .. tostring(status))

        if status then
            local Players = game:GetService("Players")
            local VirtualUser = game:GetService("VirtualUser")
            local Camera = workspace.CurrentCamera
            local Player = Players.LocalPlayer

            -- Disconnect old connection
            if getgenv().AntiAFK_Connection then
                getgenv().AntiAFK_Connection:Disconnect()
            end

            getgenv().AntiAFK_Connection = Player.Idled:Connect(function()
                if not getgenv().AntiAFK_Enabled then return end
                local mode = getgenv().AntiAFK_Mode

                if mode == "auto" then
                    local modes = {"click", "jump", "rotate"}
                    mode = modes[math.random(1, #modes)]
                end

                if mode == "click" then
                    VirtualUser:CaptureController()
                    VirtualUser:ClickButton2(Vector2.new())
                    print("üñ±Ô∏è Fake Click")

                elseif mode == "jump" then
                    local character = Player.Character
                    local humanoid = character and character:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        humanoid.Jump = true
                        print("ü¶ò Jump")
                    end

                elseif mode == "rotate" then
                    if Camera then
                        Camera.CFrame = Camera.CFrame * CFrame.Angles(0, math.rad(30), 0)
                        print("üé• Rotate Camera")
                    end
                end
            end)
        else
            if getgenv().AntiAFK_Connection then
                getgenv().AntiAFK_Connection:Disconnect()
                getgenv().AntiAFK_Connection = nil
            end
        end
    end
})

ConfigTab:Divider()

ConfigTab:Paragraph({
    Title = "UI Customization", 
    Desc = "Adjust interface settings",
    Image = "palette",
    ImageSize = 16,
    Color = Color3.fromHex("#667eea")
})

-- Theme selector
local themes = {"Dark", "Light"}
ConfigTab:Dropdown({
    Title = "Select Theme",
    Values = themes,
    Value = "Dark", 
    Callback = function(theme)
        WindUI:SetTheme(theme)
        WindUI:Notify({
            Title = "Theme Changed",
            Content = "Switched to " .. theme .. " theme",
            Icon = "palette",
            Duration = 2
        })
    end
})

ConfigTab:Toggle({
    Title = "Show Notifications",
    Desc = "Enable system notifications",
    Value = true,
    Callback = function(state)
        WindUI:Notify({
            Title = "Notifications",
            Content = state and "Notifications enabled" or "Notifications disabled",
            Duration = 2
        })
    end
})

--// Startup notification
WindUI:Notify({
    Title = "MangoHub Loaded!",
    Content = "Anti AFK system ready",
    Icon = "check-circle",
    Duration = 3
})

--// Cleanup
Window:OnClose(function()
    if getgenv().AntiAFK_Connection then
        getgenv().AntiAFK_Connection:Disconnect()
        getgenv().AntiAFK_Connection = nil
    end
    getgenv().AntiAFK_Enabled = false
end)
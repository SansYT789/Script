-- =================================
-- üü£ MangoHub - Anti AFK Full Pack (Fixed)
-- =================================

--// Load WindUI (RoyRedRedVN version)
local WindUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/RoyRedRedVN/Library-Ui-For-Script-Hacking/refs/heads/main/windui.lua"))()

--// Anti AFK Settings
getgenv().AntiAFK_Mode = "auto"
getgenv().AntiAFK_Enabled = false
getgenv().AntiAFK_Connection = nil

--// Main Window
local Window = WindUI:CreateWindow({
    Title = "MangoHub",
    Author = "Made By Group Vinreach",
    Folder = "Mango",
    Size = UDim2.new(0, 350, 0, 300),
    Theme = "Dark"
})

--// Tabs
local MainTab = Window:Tab({
    Title = "Main",
    Locked = false
})

local SettingsTab = Window:Tab({
    Title = "Settings", 
    Locked = false
})

--// Main Tab Content
MainTab:Label({ Title = "Version: 1.0 [ Demo ]" })
MainTab:Label({ Title = "Anti AFK Mode" })

MainTab:Dropdown({
    Title = "Choose Mode",
    Values = {"auto","click","jump","rotate"},
    Multi = false,
    Callback = function(value)
        getgenv().AntiAFK_Mode = value
        print("üîß Anti AFK Mode set to: "..value)
    end
})

MainTab:Button({
    Title = "Toggle Anti AFK",
    Callback = function()
        getgenv().AntiAFK_Enabled = not getgenv().AntiAFK_Enabled
        print("‚úÖ Anti AFK: "..tostring(getgenv().AntiAFK_Enabled))

        if getgenv().AntiAFK_Enabled then
            local Players = game:GetService("Players")
            local VirtualUser = game:GetService("VirtualUser")
            local Camera = workspace.CurrentCamera
            local Player = Players.LocalPlayer

            -- Disconnect old connection
            if getgenv().AntiAFK_Connection then
                getgenv().AntiAFK_Connection:Disconnect()
            end

            getgenv().AntiAFK_Connection = Player.Idled:Connect(function()
                if not getgenv().AntiAFK_Enabled then return end
                local mode = getgenv().AntiAFK_Mode

                if mode == "auto" then
                    local modes = {"click","jump","rotate"}
                    mode = modes[math.random(1,#modes)]
                end

                if mode == "click" then
                    VirtualUser:CaptureController()
                    VirtualUser:ClickButton2(Vector2.new())
                    print("üñ±Ô∏è Fake Click")

                elseif mode == "jump" then
                    local humanoid = Player.Character and Player.Character:FindFirstChildOfClass("Humanoid")
                    if humanoid then humanoid.Jump = true end
                    print("ü¶ò Jump")

                elseif mode == "rotate" then
                    Camera.CFrame = Camera.CFrame * CFrame.Angles(0, math.rad(30), 0)
                    print("üé• Rotate Camera")
                end
            end)
        else
            -- Stop Anti AFK
            if getgenv().AntiAFK_Connection then
                getgenv().AntiAFK_Connection:Disconnect()
                getgenv().AntiAFK_Connection = nil
            end
        end
    end
})

MainTab:Label({ Title = "Status: Ready" })

--// Settings Tab Content
SettingsTab:Label({ Title = "UI Settings" })

SettingsTab:Dropdown({
    Title = "Theme",
    Values = {"Dark", "Light"},
    Multi = false,
    Callback = function(value)
        -- Theme change logic here if supported
        print("Theme changed to: "..value)
    end
})

SettingsTab:Slider({
    Title = "UI Scale",
    Min = 0.5,
    Max = 2,
    Default = 1,
    Callback = function(value)
        print("UI Scale: "..value)
    end
})

SettingsTab:Toggle({
    Title = "Show Notifications",
    Default = true,
    Callback = function(state)
        print("Notifications: "..tostring(state))
    end
})

--// Cleanup when script ends
game.Players.PlayerRemoving:Connect(function(player)
    if player == game.Players.LocalPlayer then
        if getgenv().AntiAFK_Connection then
            getgenv().AntiAFK_Connection:Disconnect()
        end
    end
end)